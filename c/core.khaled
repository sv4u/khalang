;;; Core Khalang Library

;;; Atomics
(bless {nil} {})
(bless {true} 1)
(bless {false} 0)

;;; Function Definitions
(bless {fun} (lambda {f b} {def (head f) (lambda (tail f) b)}))

(fun {let b} {((lambda {_} b) ())})

(fun {unpack f l} {eval (join (list f) l)})
(fun {pack f & xs} {f xs})

(def {curry} unpack)
(def {uncurry} pack)

(fun {do & l} {if (== l nil) {nil} {last l}})

;;; Logical Definitions
(fun {not x} {- 1 x})
(fun {and x y} {* x y})
(fun {or x y} {+ x y})
